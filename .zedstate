{"split":"1","session.current":["zed::start"],"session.open":{"/src/data/domain/person.js":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":13,"column":16},"end":{"row":13,"column":16}},"lastUse":1426283595227,"undo":[[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":367,"column":0}},"nl":"\r\n","lines":["// person.js","import { DescriptionItem } from './descriptionitem';","//","import { Crypto } from '../utils/crypto';","//","export class Person extends DescriptionItem {","    constructor(oMap) {","            super(oMap);","            this.type = 'person';","            if ((oMap !== undefined) && (oMap !== null)) {","                if (oMap.username !== undefined) {","                    this.username = oMap.username;","                }","                if (oMap.firstname !== undefined) {","                    this.firstname = oMap.firstname;","                }","                if (oMap.lastname !== undefined) {","                    this.lastname = oMap.lastname;","                }","                if (oMap.password !== undefined) {","                    this.password = oMap.password;","                }","                if (oMap.email !== undefined) {","                    this.email = oMap.email;","                }","                if (oMap.phone !== undefined) {","                    this.phone = oMap.phone;","                }","                if (oMap.departementids !== undefined) {","                    this.departementids = oMap.departementids;","                } //","                if (oMap.infoids !== undefined){","                    this.infoids = oMap.infoids;","                }","                if (oMap.roles !== undefined) {","                    this.roles = oMap.roles;","                } //","            } // oMap","        } // constructor","    reset_password() {","        if (this.has_username) {","            let cc = new Crypto();","            this.password = cc.md5(this.username);","        } else {","            this.password = null;","        }","    }","    change_password(ct) {","        if ((ct === undefined) || (ct === null)) {","            this.password = null;","        } else {","            let v = null;","            let x = ct.trim();","            if (x.length > 0) {","                let cc = new Crypto();","                v = cc.md5(this.username);","            }","            this.password = v;","        }","    }","    check_password(ct) {","            if ((ct === undefined) || (ct === null)) {","                if (this.has_password) {","                    return false;","                }","            }","            let x = ct.trim();","            if (x.length < 1) {","                if (this.has_password) {","                    return false;","                }","            }","            if (!this.has_password) {","                return false;","            }","            let cc = new Crypto();","            let v = cc.md5(x);","            return (this.password == v);","        } // check_password","    get departementids() {","            return ((this._deps !== undefined) &&","            (this._deps !== null)) ? this._deps : new Set();","        } // getDepartementids","    set departementids(s) {","        this._deps = new Set();","        if ((s !== undefined) && (s !== null) && (s.length > 0)) {","            let n = s.length;","            for (let i = 0; i < n; ++i) {","                let x = s[i];","                if ((x !== null) && (x.toString().trim().length > 0)) {","                    this._deps.add(x;","                } // x","            } // i","        }","    }","    get has_departementids() {","        return (this.departementids !== null);","    }","    add_departementid(id) {","            if ((id !== undefined) &&","            (id !== null) && (id.toString().trim().length > 0)) {","                if ((this._deps === undefined) || (this._deps === null)) {","                    this._deps = new Set();","                }","                this._deps.add(id);","            }","        } // add_departementid","        //","    get roles() {","        return ((this._roles !== undefined) &&","        (this._roles !== null)) ? this._roles : [];","    }","    set roles(s) {","        this._roles = new Set();","        if ((s !== undefined) && (s !== null) && (s.length > 0)) {","            let n = s.length;","            for (let i = 0; i < n; ++i) {","                let x = s[i];","                if ((x !== null) && (x.trim().length > 0)) {","                    this._roles.add(x.trim().toLowerCase());","                } // x","            } // i","        }","    }","    get has_roles() {","        return (this.roles !== null);","    }","    add_role(id) {","            if ((id !== undefined) && (id !== null) &&","            (id.trim().length > 0)) {","                if ((this._roles === undefined) || (this._roles === null)) {","                    this._roles = new Set();","                }","                this._roles.add(id.trim().toLowerCase());","            }","        } // add_departementid","        //","    get collection_name() {","        return \"persons\";","    }","    get infoids() {","        return ((this._infoids !== undefined) &&","        (this._infoids !== null)) ? this._infoids : [];","    }","    set infoids(s) {","        this._infoids = new Set();","        if ((s !== undefined) && (s !== null) && (s.length > 0)) {","            let n = s.length;","            for (let i = 0; i < n; ++i) {","                let x = s[i];","                if ((x !== null) && (x.toString().trim().length > 0)) {","                    this._infoids.add(x;","                } // x","            } // i","        }","    }","    get has_infoids() {","        return (this.infoids !== null);","    }","    add_infoid(id) {","            if ((id !== undefined) && (id !== null) &&","            (id.toString().trim().length > 0)) {","                if ((this._infoids === undefined) || (this._infoids === null)) {","                    this._infoids = new Set();","                }","                this._infoids.add(id);","            }","        } // add_departementi","    get username() {","        return (this._user !== undefined) ? this._user : null;","    }","    set username(s) {","        if ((s !== undefined) && (s !== null) && (s.trim().length > 0)) {","            this._user = s.trim().toLowerCase();","        } else {","            this._user = null;","        }","    }","    get has_username() {","            return(this.username !== null);","        }","        //","    get lastname() {","        return (this._last !== undefined) ? this._last : null;","    }","    set lastname(s) {","        if ((s !== undefined) && (s !== null) && (s.trim().length > 0)) {","            this._last = s.trim().toUpperCase();","        } else {","            this._last = null;","        }","    }","    get has_lastname() {","            return(this.lastname !== null);","        }","        //","    get firstname() {","        return (this._first !== undefined) ? this._first : null;","    }","    set firstname(s) {","        if ((s !== undefined) && (s !== null) && (s.trim().length > 0)) {","            let ss = s.trim();","            let n = ss.length;","            if (n > 1) {","                this.first =","                ss.substr(0, 1).toUpperCase() + ss.substr(1, n - 1).toLowerCase();","            } else {","                this._first = ss.toUpperCase();","            }","            this._last = s.trim().toUpperCase();","        } else {","            this._first = null;","        }","    }","    get has_firstname() {","            return(this.firstname !== null);","        }","        //","    get fullname() {","            let s = '';","            if (this.has_lastname) {","                s = this.lastname;","            }","            if (this.has_firstname) {","                s = s + ' ' + this.firstname;","            }","            s = s.trim();","            return (s.length > 0) ? s : null;","        } // fullname","    get has_fullname() {","            return (this.fullname !== null);","        }","        //","    get password() {","        return (this._pass !== undefined) ? this._pass : null;","    }","    set password(s) {","        if ((s !== undefined) && (s !== null) && (s.trim().length > 0)) {","            this._pass = s.trim();","        }else {","            this._pass = null;","        }","    }","    get has_password() {","            return(this.password !== null);","        }","        //","    get email() {","        return (this._email !== undefined) ? this._email : null;","    }","    set email(s) {","        if ((s !== undefined) && (s !== null) && (s.trim().length > 0)) {","            this._email = s.trim();","        } else {","            this._email = null;","        }","    }","    get has_email() {","            return (this.email !== null);","        }","        //","        //","    get phone() {","        return (this._phone !== undefined) ? this._phone : null;","    }","    set phone(s) {","        if ((s !== undefined) && (s !== null) && (s.trim().length > 0)) {","            this._phone = s.trim();","        } else {","            this._phone = null;","        }","    }","    get has_phone() {","            return (this.phone !== null);","        }","        //","    to_insert_map(oMap) {","            super.to_insert_map(oMap);","            if ((oMap !== undefined) && (oMap !== null)) {","                if (this.has_username) {","                    oMap.username = this.username;","                }","                if (this.has_password) {","                    oMap.password = this.password;","                }","                if (this.has_firstname) {","                    oMap.firstname = this.firstname;","                }","                if (this.has_lastname) {","                    oMap.lastname = this.lastname;","                }","                if (this.has_email) {","                    oMap.email = this.email;","                }","                if (this.has_phone) {","                    oMap.phone = this.phone;","                }","                if (this.has_infoids){","                  let r = [];","                  for (let id of this.infoids) {","                      r.push(id);","                  } // id","                  if (r.length > 0) {","                      oMap.infoids = r;","                  }","                }","                if (this.has_departementids) {","                    let r = [];","                    for (let id of this.departementids) {","                        r.push(id);","                    } // id","                    if (r.length > 0) {","                        oMap.departementids = r;","                    }","                } //","                if (this.has_roles) {","                    let r = [];","                    for (let id of this.roles) {","                        r.push(id);","                    } // id","                    if (r.length > 0) {","                        oMap.roles = r;","                    }","                } //","            } // oMap","        } // to_insert_map","    get is_storeable() {","        return (this.has_username && this.has_lastname && this.has_firstname);","    }","    hasrole(r) {","            if ((this._roles === undefined) || (this._roles === null) ||","                (r === undefined) || (r === null)) {","                return false;","            }","            let rr = r.trim().toLowerCase();","            if (rr.length < 1) {","                return false;","            }","            for (let x of this._roles) {","                if (x == rr) {","                    return true;","                }","            } // x","            return false;","        } // hasrole_","    get is_admin() {","        return (this.has_role('super') || this.hasrole('admin'));","    }","    get is_oper() {","        return this.hasrole('oper');","    }","    get is_prof() {","        return this.hasrole('prof');","    }","    get is_etud() {","        return this.hasrole('etud');","    }","    get is_reader() {","        return this.hasrole('reader');","    }","    get is_super() {","        return this.hasrole('super');","    }","    get has_departementid() {","        return false;","    }","} // class Person"]},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":12}},"text":"// person.js"},{"action":"insertText","range":{"start":{"row":0,"column":12},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":364,"column":0}},"lines":["import {","  DescriptionItem","}","from './descriptionitem';","//","import {","  Crypto","}","from '../utils/crypto';","//","export class Person extends DescriptionItem {","  constructor(oMap) {","    super(oMap);","    this.type = 'person';","    if ((oMap !== undefined) && (oMap !== null)) {","      if (oMap.username !== undefined) {","        this.username = oMap.username;","      }","      if (oMap.firstname !== undefined) {","        this.firstname = oMap.firstname;","      }","      if (oMap.lastname !== undefined) {","        this.lastname = oMap.lastname;","      }","      if (oMap.password !== undefined) {","        this.password = oMap.password;","      }","      if (oMap.email !== undefined) {","        this.email = oMap.email;","      }","      if (oMap.phone !== undefined) {","        this.phone = oMap.phone;","      }","      if (oMap.departementids !== undefined) {","        this.departementids = oMap.departementids;","      } //","      if (oMap.infoids !== undefined) {","        this.infoids = oMap.infoids;","      }","      if (oMap.roles !== undefined) {","        this.roles = oMap.roles;","      } //","    } // oMap","  } // constructor","  reset_password() {","    if (this.has_username) {","      let cc = new Crypto();","      this.password = cc.md5(this.username);","    } else {","      this.password = null;","    }","  }","  change_password(ct) {","    if ((ct === undefined) || (ct === null)) {","      this.password = null;","    } else {","      let v = null;","      let x = ct.trim();","      if (x.length > 0) {","        let cc = new Crypto();","        v = cc.md5(this.username);","      }","      this.password = v;","    }","  }","  check_password(ct) {","    if ((ct === undefined) || (ct === null)) {","      if (this.has_password) {","        return false;","      }","    }","    let x = ct.trim();","    if (x.length < 1) {","      if (this.has_password) {","        return false;","      }","    }","    if (!this.has_password) {","      return false;","    }","    let cc = new Crypto();","    let v = cc.md5(x);","    return (this.password == v);","  } // check_password","  get departementids() {","    return ((this._deps !== undefined) && (this._deps !== null)) ? this._deps : new Set();","  } // getDepartementids","  set departementids(s) {","    this._deps = new Set();","    if ((s !== undefined) && (s !== null) && (s.length > 0)) {","      let n = s.length;","      for (let i = 0; i < n; ++i) {","        let x = s[i];","        if ((x !== null) && (x.toString().trim().length > 0)) {","          this._deps.add(x;","          } // x","        } // i","      }","    }","    get has_departementids() {","      return (this.departementids !== null);","    }","    add_departementid(id) {","      if ((id !== undefined) && (id !== null) && (id.toString().trim().length > 0)) {","        if ((this._deps === undefined) || (this._deps === null)) {","          this._deps = new Set();","        }","        this._deps.add(id);","      }","    } // add_departementid","    //","    get roles() {","      return ((this._roles !== undefined) && (this._roles !== null)) ? this._roles : [];","    }","    set roles(s) {","      this._roles = new Set();","      if ((s !== undefined) && (s !== null) && (s.length > 0)) {","        let n = s.length;","        for (let i = 0; i < n; ++i) {","          let x = s[i];","          if ((x !== null) && (x.trim().length > 0)) {","            this._roles.add(x.trim().toLowerCase());","          } // x","        } // i","      }","    }","    get has_roles() {","      return (this.roles !== null);","    }","    add_role(id) {","      if ((id !== undefined) && (id !== null) && (id.trim().length > 0)) {","        if ((this._roles === undefined) || (this._roles === null)) {","          this._roles = new Set();","        }","        this._roles.add(id.trim().toLowerCase());","      }","    } // add_departementid","    //","    get collection_name() {","      return \"persons\";","    }","    get infoids() {","      return ((this._infoids !== undefined) && (this._infoids !== null)) ? this._infoids : [];","    }","    set infoids(s) {","      this._infoids = new Set();","      if ((s !== undefined) && (s !== null) && (s.length > 0)) {","        let n = s.length;","        for (let i = 0; i < n; ++i) {","          let x = s[i];","          if ((x !== null) && (x.toString().trim().length > 0)) {","            this._infoids.add(x;","            } // x","          } // i","        }","      }","      get has_infoids() {","        return (this.infoids !== null);","      }","      add_infoid(id) {","        if ((id !== undefined) && (id !== null) && (id.toString().trim().length > 0)) {","          if ((this._infoids === undefined) || (this._infoids === null)) {","            this._infoids = new Set();","          }","          this._infoids.add(id);","        }","      } // add_departementi","      get username() {","        return (this._user !== undefined) ? this._user : null;","      }","      set username(s) {","        if ((s !== undefined) && (s !== null) && (s.trim().length > 0)) {","          this._user = s.trim().toLowerCase();","        } else {","          this._user = null;","        }","      }","      get has_username() {","        return (this.username !== null);","      }","      //","      get lastname() {","        return (this._last !== undefined) ? this._last : null;","      }","      set lastname(s) {","        if ((s !== undefined) && (s !== null) && (s.trim().length > 0)) {","          this._last = s.trim().toUpperCase();","        } else {","          this._last = null;","        }","      }","      get has_lastname() {","        return (this.lastname !== null);","      }","      //","      get firstname() {","        return (this._first !== undefined) ? this._first : null;","      }","      set firstname(s) {","        if ((s !== undefined) && (s !== null) && (s.trim().length > 0)) {","          let ss = s.trim();","          let n = ss.length;","          if (n > 1) {","            this.first = ss.substr(0, 1).toUpperCase() + ss.substr(1, n - 1).toLowerCase();","          } else {","            this._first = ss.toUpperCase();","          }","          this._last = s.trim().toUpperCase();","        } else {","          this._first = null;","        }","      }","      get has_firstname() {","        return (this.firstname !== null);","      }","      //","      get fullname() {","        let s = '';","        if (this.has_lastname) {","          s = this.lastname;","        }","        if (this.has_firstname) {","          s = s + ' ' + this.firstname;","        }","        s = s.trim();","        return (s.length > 0) ? s : null;","      } // fullname","      get has_fullname() {","        return (this.fullname !== null);","      }","      //","      get password() {","        return (this._pass !== undefined) ? this._pass : null;","      }","      set password(s) {","        if ((s !== undefined) && (s !== null) && (s.trim().length > 0)) {","          this._pass = s.trim();","        } else {","          this._pass = null;","        }","      }","      get has_password() {","        return (this.password !== null);","      }","      //","      get email() {","        return (this._email !== undefined) ? this._email : null;","      }","      set email(s) {","        if ((s !== undefined) && (s !== null) && (s.trim().length > 0)) {","          this._email = s.trim();","        } else {","          this._email = null;","        }","      }","      get has_email() {","        return (this.email !== null);","      }","      //","      //","      get phone() {","        return (this._phone !== undefined) ? this._phone : null;","      }","      set phone(s) {","        if ((s !== undefined) && (s !== null) && (s.trim().length > 0)) {","          this._phone = s.trim();","        } else {","          this._phone = null;","        }","      }","      get has_phone() {","        return (this.phone !== null);","      }","      //","      to_insert_map(oMap) {","        super.to_insert_map(oMap);","        if ((oMap !== undefined) && (oMap !== null)) {","          if (this.has_username) {","            oMap.username = this.username;","          }","          if (this.has_password) {","            oMap.password = this.password;","          }","          if (this.has_firstname) {","            oMap.firstname = this.firstname;","          }","          if (this.has_lastname) {","            oMap.lastname = this.lastname;","          }","          if (this.has_email) {","            oMap.email = this.email;","          }","          if (this.has_phone) {","            oMap.phone = this.phone;","          }","          if (this.has_infoids) {","            let r = [];","            for (let id of this.infoids) {","              r.push(id);","            } // id","            if (r.length > 0) {","              oMap.infoids = r;","            }","          }","          if (this.has_departementids) {","            let r = [];","            for (let id of this.departementids) {","              r.push(id);","            } // id","            if (r.length > 0) {","              oMap.departementids = r;","            }","          } //","          if (this.has_roles) {","            let r = [];","            for (let id of this.roles) {","              r.push(id);","            } // id","            if (r.length > 0) {","              oMap.roles = r;","            }","          } //","        } // oMap","      } // to_insert_map","      get is_storeable() {","        return (this.has_username && this.has_lastname && this.has_firstname);","      }","      hasrole(r) {","        if ((this._roles === undefined) || (this._roles === null) || (r === undefined) || (r === null)) {","          return false;","        }","        let rr = r.trim().toLowerCase();","        if (rr.length < 1) {","          return false;","        }","        for (let x of this._roles) {","          if (x == rr) {","            return true;","          }","        } // x","        return false;","      } // hasrole_","      get is_admin() {","        return (this.has_role('super') || this.hasrole('admin'));","      }","      get is_oper() {","        return this.hasrole('oper');","      }","      get is_prof() {","        return this.hasrole('prof');","      }","      get is_etud() {","        return this.hasrole('etud');","      }","      get is_reader() {","        return this.hasrole('reader');","      }","      get is_super() {","        return this.hasrole('super');","      }","      get has_departementid() {","        return false;","      }"]},{"action":"insertText","range":{"start":{"row":364,"column":0},"end":{"row":364,"column":21}},"text":"    } // class Person"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":95,"column":26},"end":{"row":95,"column":27}},"text":";"},{"action":"insertText","range":{"start":{"row":95,"column":26},"end":{"row":95,"column":27}},"text":")"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":95,"column":27},"end":{"row":95,"column":28}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":152,"column":31},"end":{"row":152,"column":32}},"text":")"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":204,"column":17},"end":{"row":204,"column":18}},"text":"_"}]}]],"redo":[]},"/src/groupes.js":{"scrollTop":389,"scrollLeft":0,"selection":{"start":{"row":48,"column":19},"end":{"row":48,"column":19}},"lastUse":1426104329625,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":43,"column":32},"end":{"row":43,"column":34}},"text":"{}"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":43,"column":33},"end":{"row":43,"column":34}},"text":"d"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":43,"column":34},"end":{"row":43,"column":35}},"text":"e"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":43,"column":35},"end":{"row":43,"column":36}},"text":"p"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":43,"column":36},"end":{"row":43,"column":37}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":43,"column":37},"end":{"row":43,"column":38}},"text":"r"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":43,"column":38},"end":{"row":43,"column":39}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":43,"column":39},"end":{"row":43,"column":40}},"text":"e"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":43,"column":40},"end":{"row":43,"column":41}},"text":"m"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":43,"column":41},"end":{"row":43,"column":42}},"text":"e"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":43,"column":42},"end":{"row":43,"column":43}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":43,"column":43},"end":{"row":43,"column":44}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":43,"column":44},"end":{"row":43,"column":45}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":43,"column":45},"end":{"row":43,"column":46}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":43,"column":46},"end":{"row":43,"column":47}},"text":":"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":43,"column":47},"end":{"row":43,"column":74}},"text":"this.userInfo.departementid"}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":44,"column":0},"end":{"row":45,"column":0}},"nl":"\r\n","lines":["      this.current.departementid = this.userInfo.departementid;"]}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":50,"column":0}},"nl":"\r\n","lines":["// groupes.js","//","import {","  Groupe","}","from './data/domain/groupe';","import {","  DataService","}","from './data/services/dataservice';","import {","  PagedSigleNameViewModel","}","from './data/viewmodel/pagedsiglenameviewmodel';","import {","  UserInfo","}","from './userinfo';","//","export class Groupes extends PagedSigleNameViewModel {","  static inject() {","    return [DataService, UserInfo];","  }","  constructor(dataService, userInfo) {","      super(dataService, userInfo, new Groupe());","      this.title = 'Groupes';","    } // constructor","  get current() {","      return super.current;","    } //","  set current(v) {","    super.current = v;","    if ((this.userInfo !== undefined) && (this.UserInfo !== null)) {","      this.userInfo.groupe = v;","      this.userInfo.profaffectation = null;","      this.userInfo.groupeevent = null;","    }","  }","  get canAdd() {","    return (super.canAdd && this.userInfo.has_departement);","  }","  addNew() {","      super.addNew();","      this.current = new Groupe({departementid:this.userInfo.departementid});","    } // addNew","  activate() {","      this.item_model.departementid = this.userInfo.departementid;","      this.refresh();","    } // activate","} // class DepartementViewModel"]},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":13}},"text":"// groupes.js"},{"action":"insertText","range":{"start":{"row":0,"column":13},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":51,"column":0}},"lines":["//","import {","  Groupe","}","from './data/domain/groupe';","import {","  DataService","}","from './data/services/dataservice';","import {","  PagedSigleNameViewModel","}","from './data/viewmodel/pagedsiglenameviewmodel';","import {","  UserInfo","}","from './userinfo';","//","export class Groupes extends PagedSigleNameViewModel {","  static inject() {","    return [DataService, UserInfo];","  }","  constructor(dataService, userInfo) {","    super(dataService, userInfo, new Groupe());","    this.title = 'Groupes';","  } // constructor","  get current() {","    return super.current;","  } //","  set current(v) {","    super.current = v;","    if ((this.userInfo !== undefined) && (this.UserInfo !== null)) {","      this.userInfo.groupe = v;","      this.userInfo.profaffectation = null;","      this.userInfo.groupeevent = null;","    }","  }","  get canAdd() {","    return (super.canAdd && this.userInfo.has_departement);","  }","  addNew() {","    super.addNew();","    this.current = new Groupe({","      departementid: this.userInfo.departementid","    });","  } // addNew","  activate() {","    this.item_model.departementid = this.userInfo.departementid;","    this.refresh();","  } // activate"]},{"action":"insertText","range":{"start":{"row":51,"column":0},"end":{"row":51,"column":31}},"text":"} // class DepartementViewModel"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":48,"column":36},"end":{"row":48,"column":64}},"text":"this.userInfo.departementid;"},{"action":"insertText","range":{"start":{"row":48,"column":36},"end":{"row":48,"column":48}},"text":"new Groupe({"},{"action":"insertText","range":{"start":{"row":48,"column":48},"end":{"row":49,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":49,"column":0},"end":{"row":50,"column":0}},"lines":["                                      departementid: this.userInfo.departementid"]},{"action":"insertText","range":{"start":{"row":50,"column":0},"end":{"row":50,"column":39}},"text":"                                    });"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":48,"column":32},"end":{"row":48,"column":33}},"text":"d"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":48,"column":31},"end":{"row":48,"column":32}},"text":"i"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":48,"column":30},"end":{"row":48,"column":31}},"text":"t"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":48,"column":29},"end":{"row":48,"column":30}},"text":"n"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":48,"column":28},"end":{"row":48,"column":29}},"text":"e"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":48,"column":27},"end":{"row":48,"column":28}},"text":"m"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":48,"column":26},"end":{"row":48,"column":27}},"text":"e"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":48,"column":25},"end":{"row":48,"column":26}},"text":"t"},{"action":"removeText","range":{"start":{"row":48,"column":24},"end":{"row":48,"column":25}},"text":"r"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":48,"column":23},"end":{"row":48,"column":24}},"text":"a"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":48,"column":22},"end":{"row":48,"column":23}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":48,"column":21},"end":{"row":48,"column":22}},"text":"e"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":48,"column":20},"end":{"row":48,"column":21}},"text":"d"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":48,"column":19},"end":{"row":48,"column":20}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":53,"column":0},"end":{"row":53,"column":31}},"text":"} // class DepartementViewModel"},{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":53,"column":0}},"nl":"\n","lines":["// groupes.js","//","import {","  Groupe","}","from './data/domain/groupe';","import {","  DataService","}","from './data/services/dataservice';","import {","  PagedSigleNameViewModel","}","from './data/viewmodel/pagedsiglenameviewmodel';","import {","  UserInfo","}","from './userinfo';","//","export class Groupes extends PagedSigleNameViewModel {","  static inject() {","    return [DataService, UserInfo];","  }","  constructor(dataService, userInfo) {","    super(dataService, userInfo, new Groupe());","    this.title = 'Groupes';","  } // constructor","  get current() {","    return super.current;","  } //","  set current(v) {","    super.current = v;","    if ((this.userInfo !== undefined) && (this.UserInfo !== null)) {","      this.userInfo.groupe = v;","      this.userInfo.profaffectation = null;","      this.userInfo.groupeevent = null;","    }","  }","  get canAdd() {","    return (super.canAdd && this.userInfo.has_departement);","  }","  addNew() {","    super.addNew();","    this.current = new Groupe({","      departementid: this.userInfo.departementid","    });","  } // addNew","  activate() {","    this.item_model = new Groupe({","                                      departementid: this.userInfo.departementid","                                    });","    this.refresh();","  } // activate"]},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":13}},"text":"// groupes.js"},{"action":"insertText","range":{"start":{"row":0,"column":13},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":53,"column":0}},"lines":["//","import {","  Groupe","}","from './data/domain/groupe';","import {","  DataService","}","from './data/services/dataservice';","import {","  PagedSigleNameViewModel","}","from './data/viewmodel/pagedsiglenameviewmodel';","import {","  UserInfo","}","from './userinfo';","//","export class Groupes extends PagedSigleNameViewModel {","  static inject() {","    return [DataService, UserInfo];","  }","  constructor(dataService, userInfo) {","    super(dataService, userInfo, new Groupe());","    this.title = 'Groupes';","  } // constructor","  get current() {","    return super.current;","  } //","  set current(v) {","    super.current = v;","    if ((this.userInfo !== undefined) && (this.UserInfo !== null)) {","      this.userInfo.groupe = v;","      this.userInfo.profaffectation = null;","      this.userInfo.groupeevent = null;","    }","  }","  get canAdd() {","    return (super.canAdd && this.userInfo.has_departement);","  }","  addNew() {","    super.addNew();","    this.current = new Groupe({","      departementid: this.userInfo.departementid","    });","  } // addNew","  activate() {","    this.item_model = new Groupe({","      departementid: this.userInfo.departementid","    });","    this.refresh();","  } // activate"]},{"action":"insertText","range":{"start":{"row":53,"column":0},"end":{"row":53,"column":31}},"text":"} // class DepartementViewModel"}]}]],"redo":[]},"/src/data/viewmodel/pagedviewmodel.js":{"scrollTop":2184,"scrollLeft":0,"selection":{"start":{"row":218,"column":23},"end":{"row":218,"column":23}},"lastUse":1426103989989,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":54,"column":27},"end":{"row":54,"column":28}},"text":"="}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":50,"column":29},"end":{"row":50,"column":30}},"text":"="}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":143,"column":40},"end":{"row":143,"column":41}},"text":"="}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":150,"column":62},"end":{"row":150,"column":63}},"text":"="}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":218,"column":26},"end":{"row":218,"column":27}},"text":"="}]}]],"redo":[]},"/src/data/viewmodel/pagedsiglenameviewmodel.js":{"scrollTop":74,"scrollLeft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"lastUse":1426103965824,"undo":[],"redo":[]},"/src/login.js":{"scrollTop":319,"scrollLeft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"lastUse":1426103828077,"undo":[],"redo":[]}},"window":{"width":1040,"height":600,"top":0,"left":-8,"isMaximized":false},"recent.commands":{"Git:Commit":1426285332120,"git:add src/login.js":1426105181800,"git add src/groupes.js":1426105239937,"Git:Add src/groupess.js, src/login.js, src/data/viewmodel/pagedviewmodel.js":1426105431881,"Git:Add":1426285409514}}